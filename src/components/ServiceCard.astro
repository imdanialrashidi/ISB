---
import type { ServiceItem } from "../lib/types";

interface Props {
  service: ServiceItem;
}

const { service } = Astro.props as Props;
const imageMap: Record<string, string> = {
  "ایمنی و بازرسی": "/images/placeholders/service-safety.svg",
  "مهندسی و مستندسازی": "/images/placeholders/service-docs.svg",
  آموزش: "/images/placeholders/service-training.svg",
  مشاوره: "/images/placeholders/service-consulting.svg",
  "کنترل کیفیت": "/images/placeholders/service-quality.svg",
};
const imageSrc = imageMap[service.category] ?? "/images/placeholders/service-safety.svg";
---

<article class="card hover-lift group h-full p-6">
  <div class="relative mb-4 overflow-hidden rounded-xl border border-brand-border">
    <img
      src={imageSrc}
      alt=""
      width="640"
      height="360"
      loading="lazy"
      class="h-32 w-full object-cover transition duration-500 group-hover:scale-105"
    />
    <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-brand-primary/25 to-transparent"></div>
  </div>
  <p class="text-xs font-semibold text-brand-accent">{service.category}</p>
  <h3 class="mt-2 text-lg font-bold text-brand-primary">{service.title}</h3>
  <p class="mt-3 text-sm leading-7 text-brand-muted">{service.summary}</p>
  {
    service.highlights.length > 0 && (
      <ul class="mt-4 space-y-1 text-sm text-brand-text">
        {service.highlights.slice(0, 3).map((item) => <li>• {item}</li>)}
      </ul>
    )
  }
</article>
